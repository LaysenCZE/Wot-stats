<!DOCTYPE html>
<html lang="cs" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WoT Stats – Standalone</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui','Segoe UI','Roboto','Helvetica Neue','Arial'] },
          colors: {
            tank: {
              light: '#fbbf24',
              medium: '#3b82f6',
              heavy: '#ef4444',
              spg: '#8b5cf6',
              at: '#10b981'
            }
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    .card{@apply bg-slate-900/90 border border-white/10 rounded-2xl;}
    .btn{@apply inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 font-semibold border border-white/10 transition active:scale-95;}
    .btn-primary{@apply bg-gradient-to-br from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500;}
    .btn-emerald{@apply bg-gradient-to-br from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500;}
    .btn-purple{@apply bg-gradient-to-br from-indigo-600 to-fuchsia-600 hover:from-indigo-500 hover:to-fuchsia-500;}
    .chip{@apply text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10;}
    dialog::backdrop{background:rgba(0,0,0,.7);}
    dialog{background-color:#0f172a;color:#f8fafc;}
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-black text-slate-100">
  <!-- HEADER -->
  <header class="sticky top-0 z-40 backdrop-blur bg-slate-900/80 border-b border-white/5">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <span class="chip">🚀 beta</span>
        <h1 class="text-xl font-bold">WoT Stats</h1>
      </div>
      <div class="flex items-center gap-2">
        <select id="region" class="bg-slate-800/70 border border-white/10 rounded-xl px-3 py-2">
          <option value="eu" selected>EU</option>
          <option value="na">NA</option>
          <option value="asia">ASIA</option>
          <option value="ru">RU</option>
        </select>
        <button id="toggleTheme" class="btn btn-purple" title="Přepnout téma"><span data-lucide="sun"></span>🌙</button>
        <button id="openInfo" class="btn btn-emerald"><span data-lucide="info"></span> ℹ️ Info & Novinky</button>
      </div>
    </div>
  </header>

  <!-- INFO DIALOG -->
  <dialog id="infoDialog" class="rounded-2xl p-0 w-[min(95vw,720px)]">
    <div class="card p-6">
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-semibold">ℹ️ O stránce</h3>
        <button class="btn" onclick="infoDialog.close()">❌ Zavřít</button>
      </div>
      <p class="text-slate-300 mb-4">📊 Přehled statistik World of Tanks. Hledání hráče, garáž, grafy, klany a porovnání.</p>
      <h4 class="font-semibold mb-2">🆕 Co je nového</h4>
      <ul class="list-disc ml-6 space-y-1 text-slate-300">
        <li>✨ Detail tanku s grafy a filtry</li>
        <li>👥 Klanové vyhledávání</li>
        <li>🏆 Top 10 tanků – grafy</li>
        <li>⚔️ Porovnání hráčů</li>
        <li>⏳ Poslední aktivita</li>
      </ul>
    </div>
  </dialog>

  <!-- TANK DETAIL DIALOG -->
  <dialog id="tankDialog" class="rounded-2xl p-0 w-[min(95vw,720px)]">
    <div class="card p-0 overflow-hidden">
      <div class="p-4 border-b border-white/10 flex items-center justify-between">
        <div>
          <h4 id="tankTitle" class="font-semibold">Tank</h4>
          <div id="tankMeta" class="text-xs text-slate-400">—</div>
        </div>
        <button class="btn" onclick="tankDialog.close()">❌ Zavřít</button>
      </div>
      <div class="p-4 grid md:grid-cols-2 gap-4">
        <div class="space-y-2">
          <img id="tankImage" class="w-full h-40 object-contain bg-slate-800 rounded-xl" />
          <div class="grid grid-cols-2 gap-2 text-sm">
            <div>⚔️ <div class="text-xs text-slate-400">Bitvy</div><div id="tdBattles" class="font-semibold">-</div></div>
            <div>🏆 <div class="text-xs text-slate-400">Výhry</div><div id="tdWins" class="font-semibold">-</div></div>
            <div>💀 <div class="text-xs text-slate-400">Prohry</div><div id="tdLosses" class="font-semibold">-</div></div>
            <div>🎯 <div class="text-xs text-slate-400">Prům. DMG</div><div id="tdAvg" class="font-semibold">-</div></div>
            <div>🔥 <div class="text-xs text-slate-400">DMG celkem</div><div id="tdDmg" class="font-semibold">-</div></div>
            <div>💣 <div class="text-xs text-slate-400">Zničené</div><div id="tdFrags" class="font-semibold">-</div></div>
          </div>
        </div>
        <div class="space-y-2">
          <h5 class="font-semibold">📈 Mini grafy</h5>
          <canvas id="tankPie" height="160"></canvas>
          <canvas id="tankBar" height="160"></canvas>
        </div>
      </div>
    </div>
  </dialog>

  <!-- REST STRÁNKY (nezměněno, zachováno z předešlé verze) -->
  <script>
    const WG_APP_ID = "028df7d564e4447b29c6c3ee894142cb";
    lucide.createIcons();
  </script>
</body>
</html>
